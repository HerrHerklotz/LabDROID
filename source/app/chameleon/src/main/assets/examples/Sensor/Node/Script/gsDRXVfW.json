{"inputs":[null,null,null],"label":"Broadcast","outputs":[["component","com_server_WebSocket","Send","stream"]],"position":{"x":413,"y":157},"typeName":"node/script","code":"// This script will broadcast the data to the frontend.\r\n\r\nwhile (true) {\r\n    let data = {\r\n        accel: Math.floor($receive(0)*100)/100,\r\n        gyro: Math.floor($receive(1)*100)/100,\r\n        filter: Math.floor($receive(2)*100)/100\r\n    }\r\n    \r\n    $out(0, JSON.stringify(data))\r\n    \r\n    // This will slowdown the broadcast rate a bit. The data gathering scripts\r\n    // won't be affected.\r\n    $sleep(40)\r\n}"}